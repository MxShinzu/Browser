<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Arc Android: File Picker ‚ûú Fullscreen</title>
<style>
  body{
    font-family:system-ui,Segoe UI,Roboto,Arial;
    background:#071028;color:#e6eef6;
    display:flex;align-items:center;justify-content:center;
    height:100vh;margin:0;
  }
  .card{
    background:#071a2a;padding:24px;border-radius:12px;width:420px;
    box-shadow:0 8px 30px rgba(0,0,0,.6);
  }
  h1{text-align:center;margin:0 0 8px;font-size:18px;}
  p{text-align:center;color:#9fb7c7;margin:0 0 16px;}
  button{
    display:block;width:100%;padding:12px 14px;border-radius:10px;border:0;
    font-weight:700;cursor:pointer;margin-bottom:10px;
    background:linear-gradient(90deg,#06b6d4,#3b82f6);color:#042630;
    transition:transform .15s ease;
  }
  button:hover{transform:scale(1.03);}
  pre{
    background:#041621;padding:12px;border-radius:8px;color:#cfeff6;
    overflow:auto;max-height:200px;margin-top:12px;font-size:13px;
  }
  input[type="file"]{display:none;}
</style>
</head>
<body>
  <div class="card" role="main" aria-live="polite">
    <h1>Arc Android</h1>
    <p>Klik tombol ‚Üí file picker muncul dulu. Setelah selesai memilih file (atau dibatalkan), halaman akan fullscreen setelah 1 detik.</p>

    <button id="goBtn">Pilih File ‚ûú Lalu Fullscreen</button>
    <input type="file" id="hiddenFileInput" accept="image/*,text/plain" />
    <pre id="log">Status: ready</pre>
  </div>

<script>
const logEl = document.getElementById('log');
const btn = document.getElementById('goBtn');
const fileInput = document.getElementById('hiddenFileInput');
const log = msg => logEl.textContent = typeof msg === 'string' ? msg : JSON.stringify(msg,null,2);

// === Tombol utama ===
btn.addEventListener('click', async () => {
  log('üìÇ Membuka file picker...');
  try {
    // Coba pakai showPicker() jika didukung
    if (fileInput.showPicker) await fileInput.showPicker();
    else fileInput.click();
  } catch (err) {
    log('‚ö†Ô∏è Error membuka picker: ' + (err.message || err));
  }
});

// === Setelah file dipilih / dibatalkan ===
fileInput.addEventListener('change', async (e) => {
  const file = e.target.files[0];
  if (!file) {
    log('‚ùå Tidak ada file dipilih. Akan masuk fullscreen dalam 1 detik...');
  } else {
    log(`‚úÖ File dipilih:\nNama: ${file.name}\nUkuran: ${file.size} bytes\n‚û°Ô∏è Akan masuk fullscreen dalam 1 detik...`);
  }

  setTimeout(async () => {
    try {
      const el = document.documentElement;
      if (el.requestFullscreen) await el.requestFullscreen();
      else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
      else if (el.mozRequestFullScreen) el.mozRequestFullScreen();
      else if (el.msRequestFullscreen) el.msRequestFullscreen();
      log('‚úÖ Sudah mencoba masuk fullscreen (jika diizinkan browser).');
    } catch (err) {
      log('‚ùå Gagal fullscreen: ' + (err.message || err));
    }
  }, 1000);
});
</script>
</body>
</html>
